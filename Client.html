<body>

  <h1>Envoyer une commande</h1>
  
  <form id="commandeForm">
    <input type="text" name="nom" placeholder="Nom" required />
    <input type="text" name="prenom" placeholder="PrÃ©nom" required />
    <input type="number" name="budget" placeholder="Budget (â‚¬)" required />
    <input type="text" name="numero" placeholder="NumÃ©ro de tÃ©lÃ©phone" required />
    <textarea name="description" placeholder="Description du projet..." required></textarea>
    <button type="submit">Envoyer la commande</button>
  </form>

  <div id="message"></div>

  <script>
    document.getElementById('commandeForm').addEventListener('submit', async function (e) {
      e.preventDefault();

      const formData = new FormData(this);
      const data = {};
      formData.forEach((value, key) => data[key] = value);

      try {
        const response = await fetch("http://localhost:8000/envoyer", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(data)
        });

        const message = await response.text();
        document.getElementById("message").textContent = message;
      } catch (err) {
        document.getElementById("message").textContent = "Erreur lors de l'envoi de la commande ðŸ˜¢";
        document.getElementById("message").style.color = "red";
        console.error(err);
      }
    });
  </script>

</body>
</html>
