<!DOCTYPE html>
<html>
<head>
  <title>Commande</title>
</head>
<body>
  <form id="commandeForm">
    <input type="text" name="nom" placeholder="Nom" required><br>
    <input type="text" name="prenom" placeholder="Pr√©nom" required><br>
    <input type="text" name="budget" placeholder="Budget (‚Ç¨)" required><br>
    <input type="text" name="numero" placeholder="Num√©ro de t√©l√©phone" required><br>
    <textarea name="description" placeholder="Description de votre projet" required></textarea><br>
    <button type="submit">Envoyer</button>
  </form>

  <p id="resultat"></p>

  <script>
    document.getElementById("commandeForm").addEventListener("submit", async function(e) {
      e.preventDefault();

      const formData = new FormData(this);
      const data = Object.fromEntries(formData.entries());

      try {
        const response = await fetch("http://fnode1.astrast.host:7031/", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(data)
        });

        if (response.ok) {
          document.getElementById("resultat").innerText = "‚úÖ Merci pour votre commande !";
        } else {
          document.getElementById("resultat").innerText = "‚ùå Erreur lors de l'envoi de la commande üò¢";
        }
      } catch (err) {
        console.error(err);
        document.getElementById("resultat").innerText = "‚ö†Ô∏è Erreur r√©seau ou serveur injoignable.";
      }
    });
  </script>
</body>
</html>
