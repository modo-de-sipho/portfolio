<!DOCTYPE html>
<html>
<head>
    <title>Formulaire de commande</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <h1>Formulaire de commande</h1>
    <form id="commandeForm">
        <label for="nom">Nom :</label>
        <input type="text" id="nom" name="nom" required>

        <label for="prenom">Prénom :</label>
        <input type="text" id="prenom" name="prenom" required>

        <label for="adresse">Adresse :</label>
        <textarea id="adresse" name="adresse" required></textarea>

        <label for="description">Description :</label>
        <textarea id="description" name="description" required></textarea>

        <label for="budget">Budget :</label>
        <input type="number" id="budget" name="budget" required>

        <label for="cote_serv">Côté service :</label>
        <input type="number" id="cote_serv" name="cote_serv" required>

        <button type="submit">Enregistrer la commande</button>
    </form>

    <script>
        const form = document.getElementById('commandeForm');
        form.addEventListener('submit', async (event) => {
            event.preventDefault();
            const formData = new FormData(form);
            try {
                await axios.post('http://fnode1.astrast.host:7031/save_order', formData);
                alert('Commande enregistrée avec succès !');
                form.reset();
            } catch (error) {
                alert('Une erreur est survenue lors de l\'enregistrement de la commande.');
                console.error(error);
            }
        });
    </script>
</body>
</html>
